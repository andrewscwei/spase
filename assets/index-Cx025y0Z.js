(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();var w;(e=>{e.zero=o();function o(t=0,h=0){if(typeof t=="number")return{x:t,y:h};if(!$(t))throw Error("Invalid parameters passed to constructor");return t instanceof Array?{x:t[0],y:t[1]}:{x:t.x,y:t.y}}e.make=o;function s(t,h={}){return o({x:typeof h.x=="number"?h.x:t.x,y:typeof h.y=="number"?h.y:t.y})}e.clone=s;function a(t,h){return o({x:t.x+h.x,y:t.y+h.y})}e.add=a;function n(t,h){return o({x:t.x-h.x,y:t.y-h.y})}e.subtract=n;function c(t,h){return o({x:t.x*h.x,y:t.y*h.y})}e.multiply=c;function y(t,h){return o({x:t.x/h.x,y:t.y/h.y})}e.divide=y;function g(t){return o({x:t.y,y:t.x})}e.reflect=g;function b(t,h){return!(t.x!==h.x||t.y!==h.y)}e.isEqual=b;function x(t){return`Point(x=${t.x}, y=${t.y})`}e.toString=x;function S(t){return Object.freeze({x:t.x,y:t.y})}e.toJSON=S;function q(t){return[t.x,t.y]}e.toArray=q;function $(t){return t instanceof Array?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):typeof t=="object"?!(typeof t.x!="number"||typeof t.y!="number"):!1}e.isValidDescriptor=$;function H(t){return typeof t=="object"&&typeof t.x=="number"&&typeof t.y=="number"}e.isPoint=H;function T(t){return t.x===0&&t.y===0}e.isZero=T})(w||(w={}));function G(e,o){try{const s=w.isValidDescriptor(e)&&w.make(e),a=w.isValidDescriptor(o)&&w.make(o);if(s&&!a){const n=o instanceof Array?o:[o],c=n.length;for(let y=0;y<c;y++){const g=p.from(n[y]);if(!g)continue;const b=s.x>=g.left&&s.x<=g.right,x=s.y>=g.top&&s.y<=g.bottom;if(b&&x)return!0}return!1}else if(!s&&a){const n=e instanceof Array?e:[e],c=n.length;for(let y=0;y<c;y++){const g=p.from(n[y]);if(!g)continue;const b=a.x>=g.left&&a.x<=g.right,x=a.y>=g.top&&a.y<=g.bottom;if(b&&x)return!0}return!1}else{if(s&&a)return w.isEqual(s,a);{const n=[...e instanceof Array?e:[e],...o instanceof Array?o:[o]],c=p.intersecting.apply(null,n);return c?c.width*c.height!==0:!1}}}catch(s){return console.error(s),!1}}var V;(e=>{e.zero=o();function o(t=0,h=0){if(typeof t=="number")return{width:t,height:h};if(!$(t))throw Error("Invalid parameters passed to constructor");return t instanceof Array?{width:t[0],height:t[1]}:{width:t.width,height:t.height}}e.make=o;function s(t,h={}){return o({width:typeof h.width=="number"?h.width:t.width,height:typeof h.height=="number"?h.height:t.height})}e.clone=s;function a(t,h){return o({width:t.width+h.width,height:t.height+h.height})}e.add=a;function n(t,h){return o({width:t.width-h.width,height:t.height-h.height})}e.subtract=n;function c(t,h){return o({width:t.width*h.width,height:t.height*h.height})}e.multiply=c;function y(t,h){return o({width:t.width/h.width,height:t.height/h.height})}e.divide=y;function g(t){return o({width:t.height,height:t.width})}e.rotate=g;function b(t,h){return!(t.width!==h.width||t.height!==h.height)}e.isEqual=b;function x(t){return`Size(width=${t.width}, height=${t.height})`}e.toString=x;function S(t){return Object.freeze({width:t.width,height:t.height})}e.toJSON=S;function q(t){return[t.width,t.height]}e.toArray=q;function $(t){return t instanceof Array?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):typeof t=="object"?!(typeof t.width!="number"||typeof t.height!="number"):!1}e.isValidDescriptor=$;function H(t){return typeof t=="object"&&typeof t.width=="number"&&typeof t.height=="number"}e.isSize=H;function T(t){return t.width===0&&t.height===0}e.isZero=T})(V||(V={}));var p;(e=>{e.zero=o();function o(r=0,i=0,u=0,d=0){if(typeof r=="number"&&typeof i=="number"){const l=r,m=i;return{top:m,right:l+u,bottom:m+d,left:l,width:u,height:d}}else if(w.isPoint(r)&&V.isSize(i)){const l=r,m=i;return{top:l.y,right:l.x+m.width,bottom:l.y+m.height,left:l.x,width:m.width,height:m.height}}else{const l=r;if(!R(l))throw Error("Invalid parameters passed to constructor");return{top:l.y,right:l.x+l.width,bottom:l.y+l.height,left:l.x,width:l.width,height:l.height}}}e.make=o;function s(r){return w.make({x:(r.right-r.left)/2+r.left,y:(r.bottom-r.top)/2+r.top})}e.center=s;function a(r){return V.make({width:r.width,height:r.height})}e.size=a;function n(r,i={}){try{if(r==null)return;if(C(r))return r;if(A(r))return n(document.documentElement||document.body.parentNode||document.body,i);const u=r instanceof Array?r:[r],d=u.length,l=i.reference||window,m=c(),j=A(l)?m:n(i.reference);if(!m||!j)return;let O;for(let k=0;k<d;k++){const L=u[k],z=L.getBoundingClientRect(),P=o({x:z.left+m.left-(A(l)?0:j.left),y:z.top+m.top-(A(l)?0:j.top),width:i.overflow?L.scrollWidth:L instanceof HTMLElement?L.offsetWidth:z.width,height:i.overflow?L.scrollHeight:L instanceof HTMLElement?L.offsetHeight:z.height});O=O?$(O,P):P}return O}catch(u){console.error(u);return}}e.from=n;function c(){const r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),u=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,d=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return o({x:u,y:d,width:r,height:i})}e.fromViewport=c;function y(r,i={}){if(r)return A(r)?n(Array.from(document.body.children)):n(Array.from(r.children),{overflow:i.overflow,reference:i.reference||r})}e.fromChildrenOf=y;function g(r,i,u={}){if(!i)return;const d=Array.from(i.children);return r<=0?o():r>=d.length?n(d,{reference:u.reference,overflow:!1}):(d.splice(r),n(d,{reference:u.reference||i,overflow:!1}))}e.fromChildrenBefore=g;function b(r,i,u={}){if(!i)return;const d=Array.from(i.children);return r<0?n(d,{reference:u.reference,overflow:!1}):r>=d.length-1?o():(d.splice(0,d.length-r-1),n(d,{reference:u.reference||i,overflow:!1}))}e.fromChildrenAfter=b;function x(r,i,u={}){if(!i)return;const d=i.children[r];return n(d,{overflow:u.overflow,reference:u.reference||i})}e.fromChildAt=x;function S(...r){try{const i=r.length,u={};let d,l;for(let m=0;m<i;m++){if(d||(d=n(r[m])),m===0&&m+1===i)l=c();else if(m+1<i)l=n(r[m+1]);else break;!d||!l||(u.width=Math.max(0,Math.min(d.right,l.right)-Math.max(d.left,l.left)),u.height=Math.max(0,Math.min(d.bottom,l.bottom)-Math.max(d.top,l.top)),u.y=Math.max(d.top,l.top),u.x=Math.max(d.left,l.left),u.width*u.height===0&&(u.width=0,u.height=0,u.y=NaN,u.x=NaN),d=o(u))}return o(u)}catch(i){console.error(i);return}}e.intersecting=S;function q(r,i={}){return o({x:typeof i.x=="number"?i.x:r.left,y:typeof i.y=="number"?i.y:r.top,width:typeof i.width=="number"?i.width:r.width,height:typeof i.height=="number"?i.height:r.height})}e.clone=q;function $(r,i){return o({x:Math.min(r.left,i.left),y:Math.min(r.top,i.top),width:Math.max(r.right,i.right)-Math.min(r.left,i.left),height:Math.max(r.bottom,i.bottom)-Math.min(r.top,i.top)})}e.concat=$;function H(r){return o({x:r.left,y:r.top,width:r.height,height:r.width})}e.rotate=H;function T(r,i){return!(r.top!==i.top||r.right!==i.right||r.bottom!==i.bottom||r.left!==i.left||r.width!==i.width||r.height!==i.height)}e.isEqual=T;function t(r,i){return G(i,r)}e.contains=t;function h(r){return`Rect(top=${r.top}, right=${r.right}, bottom=${r.bottom}, left=${r.left}, width=${r.width}, height=${r.height})`}e.toString=h;function B(r){return Object.freeze({top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height})}e.toJSON=B;function R(r){return!(typeof r.x!="number"||typeof r.y!="number"||typeof r.width!="number"||typeof r.height!="number")}e.isValidDescriptor=R;function C(r){return typeof r=="object"&&typeof r.top=="number"&&typeof r.right=="number"&&typeof r.bottom=="number"&&typeof r.left=="number"&&typeof r.width=="number"&&typeof r.height=="number"}e.isRect=C;function D(r){return r.top===0&&r.right===0&&r.bottom===0&&r.left===0&&r.width===0&&r.height===0}e.isZero=D})(p||(p={}));function A(e){return e===window}const M=document.getElementById("main"),v=document.getElementById("intersection"),N=document.getElementById("viewport"),I=Array.from(document.querySelectorAll("#main .box"));window.localStorage.debug="spase*";window.addEventListener("resize",()=>E());window.addEventListener("scroll",()=>E());I.forEach(e=>{let o,s=w.make(),a,n=!1;e.addEventListener("pointerdown",c=>{o=w.make({x:c.clientX-s.x,y:c.clientY-s.y}),c.target===e&&(n=!0),E()}),window.addEventListener("pointermove",c=>{n&&(c.preventDefault(),a=w.make(c.clientX-o.x,c.clientY-o.y),s=a,e.style.transform=`translate3d(${a.x}px, ${a.y}px, 0)`,E())}),e.addEventListener("pointerup",()=>{o=a,n=!1,E()})});function E(){W(),X(),J(),Y()}function W(){const e=p.fromViewport(),o=p.from(window,{overflow:!0});N.querySelector(".top").innerHTML=`${f(e.top)}`,N.querySelector(".right").innerHTML=`${f(e.right)}`,N.querySelector(".bottom").innerHTML=`${f(e.bottom)}`,N.querySelector(".left").innerHTML=`${f(e.left)}`,N.querySelector(".size").innerHTML=`${f(e.width)}x${f(e.height)}<br>${f(o.width)}x${f(o.height)}`}function X(){const e=p.from(M),o=p.from(I,{reference:M});M.querySelector(".top").innerHTML=`${f(e.top)}<br>(${f(o.top)})`,M.querySelector(".right").innerHTML=`${f(e.right)}<br>(${f(o.right)})`,M.querySelector(".bottom").innerHTML=`${f(e.bottom)}<br>(${f(o.bottom)})`,M.querySelector(".left").innerHTML=`${f(e.left)}<br>(${f(o.left)})`,M.querySelector(".size").innerHTML=`${f(e.width)}x${f(e.height)}<br>(${f(o.width)}x${f(o.height)})`}function J(){I.forEach(e=>{const o=p.from(e),s=p.from(e,{reference:M}),a=p.from(e,{overflow:!0}),n=p.intersecting(e);e.querySelector(".top").innerHTML=`G:${f(o.top)}<br>L:${f(s.top)}<br>V:${f(n.top)}`,e.querySelector(".right").innerHTML=`G:${f(o.right)}<br>L:${f(s.right)}<br>V:${f(n.right)}`,e.querySelector(".bottom").innerHTML=`G:${f(o.bottom)}<br>L:${f(s.bottom)}<br>V:${f(n.bottom)}`,e.querySelector(".left").innerHTML=`G:${f(o.left)}<br>L:${f(s.left)}<br>V:${f(n.left)}`,e.querySelector(".size").innerHTML=`G:${f(o.width)}x${f(o.height)}<br>L:${f(a.width)}x${f(a.height)}<br>V:${f(n.width)}x${f(n.height)}`})}function Y(){const e=p.intersecting(...I);e.width*e.height>0?v.classList.add("active"):v.classList.remove("active"),v.querySelector(".top").innerHTML=`${f(e.top)}`,v.querySelector(".right").innerHTML=`${f(e.right)}`,v.querySelector(".bottom").innerHTML=`${f(e.bottom)}`,v.querySelector(".left").innerHTML=`${f(e.left)}`,v.querySelector(".size").innerHTML=`INTERSECTING<br>${f(e.width)}x${f(e.height)}`}function f(e){return Math.round(e*100)/100}E();
